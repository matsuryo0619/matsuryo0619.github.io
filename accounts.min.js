window.addEventListener('headerSearchCreated',async()=>{const{accounts_parent}=await import('./header.js');const Make_accounts=document.getElementById('header_Toaccounts');const login=document.getElementById('header_Tologin');const urlParams=new URLSearchParams(window.location.search);const GOOGLE_SHEET_CSV_URL='https://docs.google.com/spreadsheets/d/1E0MjL8CXf-_pF3Lf1K1-w0pMx3EEaLO_zimIPpIkkPk/export?format=csv&range=A1:D';if(!localStorage.getItem('account')){accounts_parent.style.display='none';if(window.location.origin+window.location.pathname==='https://matsuryo0619.github.io/scratchblog/accounts.html'){if(urlParams.get('type')==='make'){document.title='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ - ã‚¹ã‚´ã‚¹ã‚¯!';const form=document.createElement('form');form.action='https://docs.google.com/forms/d/e/1FAIpQLSczgHouSE1zLsfoT7M7O9p3iReQt1p9t3tlXIoxBMqShvrz1g/formResponse';form.method='post';form.id='accounts_form';form.target='hidden_iframe';const saltInput=document.createElement('input');saltInput.type='hidden';saltInput.name='entry.155315392';form.appendChild(saltInput);const hashedPasswordInput=document.createElement('input');hashedPasswordInput.type='hidden';hashedPasswordInput.name='entry.1949907076';form.appendChild(hashedPasswordInput);async function checkDuplicateAccount(username){try{const timestamp=new Date().getTime();const csvUrl=`${GOOGLE_SHEET_CSV_URL}&_t=${timestamp}`;const existingAccounts=await d3.csv(csvUrl);const possibleAccountNameColumns=['ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå','ãƒ¦ãƒ¼ã‚¶ãƒ¼å','Account Name','Username'];let accountNameColumn=null;let isDuplicate=!1;if(existingAccounts.length>0){const availableColumns=Object.keys(existingAccounts[0]);accountNameColumn=possibleAccountNameColumns.find(col=>availableColumns.includes(col));if(!accountNameColumn&&availableColumns.length>=2){accountNameColumn=availableColumns[1]} if(accountNameColumn){isDuplicate=existingAccounts.some(row=>{const existingUsername=row[accountNameColumn];return existingUsername&&existingUsername.toString().trim().toLowerCase()===username.trim().toLowerCase()})}} return isDuplicate}catch(error){console.error('é‡è¤‡ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼:',error);throw new Error('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã®é‡è¤‡ãƒã‚§ãƒƒã‚¯ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚')}} form.onsubmit=async function(event){event.preventDefault();const AccountNameInput=document.getElementById('Account_Name');const AccountPassInput=document.getElementById('Accounts_wcheck');const AccountPassConfirmInput=document.getElementById('Accounts_wcheck_confirm');const password=AccountPassInput.value;const confirmPassword=AccountPassConfirmInput.value;const username=AccountNameInput.value;if(!password||!username||!confirmPassword){alert('ã™ã¹ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');return!1} if(password!==confirmPassword){alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“ï¼');return!1} if(username.length<3||username.length>20){alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¯3æ–‡å­—ä»¥ä¸Š20æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');return!1} if(!/^[a-zA-Z0-9_]+$/.test(username)){alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¯è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢(_)ã®ã¿ä½¿ç”¨ã§ãã¾ã™ï¼');return!1} if(password.length<6){alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯6æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');return!1} const submitButton=document.getElementById("submitbutton");submitButton.disabled=!0;submitButton.value="ç¢ºèªä¸­...";try{const isDuplicate=await checkDuplicateAccount(username);if(isDuplicate){alert('ãã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¯ã™ã§ã«ä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚åˆ¥ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');submitButton.disabled=!1;submitButton.value="ç™»éŒ²";return!1} await new Promise(resolve=>setTimeout(resolve,500));const isDuplicateSecond=await checkDuplicateAccount(username);if(isDuplicateSecond){alert('ãã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¯ã™ã§ã«ä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚åˆ¥ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');submitButton.disabled=!1;submitButton.value="ç™»éŒ²";return!1} submitButton.value="ç™»éŒ²ä¸­...";const saltBytes=window.crypto.getRandomValues(new Uint8Array(16));const salt=Array.from(saltBytes).map(b=>b.toString(16).padStart(2,'0')).join('');saltInput.value=salt;const combined=password+salt;const encoder=new TextEncoder();const dataToHash=encoder.encode(combined);const hashBuffer=await crypto.subtle.digest('SHA-256',dataToHash);const hashArray=Array.from(new Uint8Array(hashBuffer));const hashedPassword=hashArray.map(b=>b.toString(16).padStart(2,'0')).join('');hashedPasswordInput.value=hashedPassword;AccountPassInput.value='';AccountPassConfirmInput.value='';document.getElementById('hidden_iframe').onload=function(){alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸï¼');submitButton.disabled=!1;submitButton.value="ç™»éŒ²";form.reset();localStorage.setItem('account',username);const sessionToken=secureAuth.generateSessionToken();secureAuth.setAuthData(username,sessionToken);window.location.replace('https://matsuryo0619.github.io/scratchblog/Home.html')};form.submit()}catch(error){console.error('ç™»éŒ²å‡¦ç†ã‚¨ãƒ©ãƒ¼:',error);alert(error.message||'å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ã¿ã¦ãã ã•ã„ï¼');submitButton.disabled=!1;submitButton.value="ç™»éŒ²";return!1}};const AccountName_P=document.createElement('p');const AccountName=document.createElement('input');AccountName.type='text';AccountName.autocomplete='username';AccountName.name='entry.159289474';AccountName.placeholder='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåï¼ˆè‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã®ã¿ï¼‰';AccountName.required=!0;AccountName.id='Account_Name';AccountName.maxLength=20;AccountName.minLength=3;AccountName.setAttribute('data-1p-ignore','false');AccountName.setAttribute('data-lpignore','false');AccountName_P.appendChild(AccountName);form.appendChild(AccountName_P);AccountName.addEventListener('focus',function(){this.select()});let checkTimeout;AccountName.addEventListener('input',function(){clearTimeout(checkTimeout);const username=this.value.trim();if(username.length>=3){checkTimeout=setTimeout(async()=>{try{const isDuplicate=await checkDuplicateAccount(username);if(isDuplicate){this.style.borderColor='#ff0000';this.title='ã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¯æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™'}else{this.style.borderColor='#00ff00';this.title='ã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¯ä½¿ç”¨ã§ãã¾ã™'}}catch(error){this.style.borderColor='';this.title=''}},1000)}else{this.style.borderColor='';this.title=''}});const AccountPass_P=document.createElement('p');AccountPass_P.style.position='relative';const AccountPass=document.createElement('input');AccountPass.type='password';AccountPass.autocomplete='new-password';AccountPass.name='entry.1949907076';AccountPass.placeholder='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆ6æ–‡å­—ä»¥ä¸Šï¼‰';AccountPass.required=!0;AccountPass.id='Accounts_wcheck';AccountPass.minLength=6;AccountPass.setAttribute('data-1p-ignore','false');AccountPass.setAttribute('data-lpignore','false');AccountPass.addEventListener('copy',e=>e.preventDefault());AccountPass.addEventListener('paste',e=>e.preventDefault());AccountPass.addEventListener('cut',e=>e.preventDefault());AccountPass.addEventListener('contextmenu',e=>e.preventDefault());AccountPass.style.paddingRight='40px';AccountPass_P.appendChild(AccountPass);const togglePassword1=document.createElement('button');togglePassword1.type='button';togglePassword1.textContent='ğŸ‘';togglePassword1.style.position='absolute';togglePassword1.style.right='10px';togglePassword1.style.top='50%';togglePassword1.style.transform='translateY(-50%)';togglePassword1.style.border='none';togglePassword1.style.background='transparent';togglePassword1.style.cursor='pointer';togglePassword1.style.fontSize='16px';togglePassword1.title='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¡¨ç¤º/éè¡¨ç¤º';AccountPass_P.appendChild(togglePassword1);togglePassword1.addEventListener('click',function(){if(AccountPass.type==='password'){AccountPass.type='text';this.textContent='ğŸ™ˆ'}else{AccountPass.type='password';this.textContent='ğŸ‘'}});form.appendChild(AccountPass_P);const AccountPassConfirm_P=document.createElement('p');AccountPassConfirm_P.style.position='relative';const AccountPassConfirm=document.createElement('input');AccountPassConfirm.type='password';AccountPassConfirm.autocomplete='new-password';AccountPassConfirm.placeholder='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª';AccountPassConfirm.required=!0;AccountPassConfirm.id='Accounts_wcheck_confirm';AccountPassConfirm.minLength=6;AccountPassConfirm.setAttribute('data-1p-ignore','false');AccountPassConfirm.setAttribute('data-lpignore','false');AccountPassConfirm.addEventListener('copy',e=>e.preventDefault());AccountPassConfirm.addEventListener('paste',e=>e.preventDefault());AccountPassConfirm.addEventListener('cut',e=>e.preventDefault());AccountPassConfirm.addEventListener('contextmenu',e=>e.preventDefault());AccountPassConfirm.style.paddingRight='40px';AccountPassConfirm_P.appendChild(AccountPassConfirm);const togglePassword2=document.createElement('button');togglePassword2.type='button';togglePassword2.textContent='ğŸ‘';togglePassword2.style.position='absolute';togglePassword2.style.right='10px';togglePassword2.style.top='50%';togglePassword2.style.transform='translateY(-50%)';togglePassword2.style.border='none';togglePassword2.style.background='transparent';togglePassword2.style.cursor='pointer';togglePassword2.style.fontSize='16px';togglePassword2.title='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¡¨ç¤º/éè¡¨ç¤º';AccountPassConfirm_P.appendChild(togglePassword2);togglePassword2.addEventListener('click',function(){if(AccountPassConfirm.type==='password'){AccountPassConfirm.type='text';this.textContent='ğŸ™ˆ'}else{AccountPassConfirm.type='password';this.textContent='ğŸ‘'}});const passwordMessage=document.createElement('div');passwordMessage.id='password_message';passwordMessage.style.fontSize='14px';passwordMessage.style.marginTop='5px';passwordMessage.style.minHeight='20px';AccountPassConfirm_P.appendChild(passwordMessage);form.appendChild(AccountPassConfirm_P);function checkPasswordMatch(){const password=AccountPass.value;const confirmPassword=AccountPassConfirm.value;const messageDiv=document.getElementById('password_message');if(confirmPassword.length===0){messageDiv.textContent='';AccountPassConfirm.style.borderColor='';return!0} if(password===confirmPassword){messageDiv.textContent='âœ“ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¦ã„ã¾ã™';messageDiv.style.color='#00aa00';AccountPassConfirm.style.borderColor='#00aa00';return!0}else{messageDiv.textContent='âœ— ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“';messageDiv.style.color='#ff0000';AccountPassConfirm.style.borderColor='#ff0000';return!1}} AccountPass.addEventListener('input',checkPasswordMatch);AccountPassConfirm.addEventListener('input',checkPasswordMatch);const Submit=document.createElement('input');Submit.type="submit";Submit.id="submitbutton";Submit.value="ç™»éŒ²";Submit.setAttribute('data-1p-ignore','false');form.appendChild(Submit);document.body.appendChild(form);const iframe=document.createElement('iframe');iframe.onload='';iframe.id='hidden_iframe';iframe.name='hidden_iframe';iframe.style.display='none';document.body.appendChild(iframe)}else if(urlParams.get('type')==='login'){document.title='ãƒ­ã‚°ã‚¤ãƒ³ - ã‚¹ã‚´ã‚¹ã‚¯!';async function getAccountData(username){try{const timestamp=new Date().getTime();const csvUrl=`${GOOGLE_SHEET_CSV_URL}&_t=${timestamp}`;const existingAccounts=await d3.csv(csvUrl);const possibleAccountNameColumns=['ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå','ãƒ¦ãƒ¼ã‚¶ãƒ¼å','Account Name','Username'];if(existingAccounts.length===0){return null} const availableColumns=Object.keys(existingAccounts[0]);const accountNameColumn=possibleAccountNameColumns.find(col=>availableColumns.includes(col))||availableColumns[1];const account=existingAccounts.find(row=>{const existingUsername=row[accountNameColumn];return existingUsername&&existingUsername.toString().trim().toLowerCase()===username.trim().toLowerCase()});if(!account){return null} return{username:account[accountNameColumn],hashedPassword:account.ãƒãƒƒã‚·ãƒ¥åŒ–ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰||account['Hashed Password'],salt:account.ã‚½ãƒ«ãƒˆ||account.Salt}}catch(error){console.error('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:',error);throw new Error('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚')}} async function verifyPassword(inputPassword,storedHash,salt){try{const combined=inputPassword+salt;const encoder=new TextEncoder();const dataToHash=encoder.encode(combined);const hashBuffer=await crypto.subtle.digest('SHA-256',dataToHash);const hashArray=Array.from(new Uint8Array(hashBuffer));const computedHash=hashArray.map(b=>b.toString(16).padStart(2,'0')).join('');const cleanStoredHash=storedHash.replace(/,\s*$/,'').trim();return computedHash===cleanStoredHash}catch(error){console.error('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼ã‚¨ãƒ©ãƒ¼:',error);return!1}} const loginForm=document.createElement('form');loginForm.id='login_form';loginForm.onsubmit=async function(event){event.preventDefault();const usernameInput=document.getElementById('Login_Username');const passwordInput=document.getElementById('Login_Password');const submitButton=document.getElementById('login_submitbutton');const username=usernameInput.value.trim();const password=passwordInput.value;if(!username||!password){alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä¸¡æ–¹å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');return!1} submitButton.disabled=!0;submitButton.value="ãƒ­ã‚°ã‚¤ãƒ³ä¸­...";try{const accountData=await getAccountData(username);if(!accountData){alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™ã€‚');submitButton.disabled=!1;submitButton.value="ãƒ­ã‚°ã‚¤ãƒ³";return!1} const isPasswordValid=await verifyPassword(password,accountData.hashedPassword,accountData.salt);if(!isPasswordValid){alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™ã€‚');submitButton.disabled=!1;submitButton.value="ãƒ­ã‚°ã‚¤ãƒ³";return!1} localStorage.setItem('account',accountData.username);const sessionToken=secureAuth.generateSessionToken();secureAuth.setAuthData(accountData.username,sessionToken);window.location.replace('https://matsuryo0619.github.io/scratchblog/Home.html')}catch(error){console.error('ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ã‚¨ãƒ©ãƒ¼:',error);alert(error.message||'ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ã¿ã¦ãã ã•ã„ï¼');submitButton.disabled=!1;submitButton.value="ãƒ­ã‚°ã‚¤ãƒ³"}};const usernameP=document.createElement('p');const usernameInput=document.createElement('input');usernameInput.type='text';usernameInput.autocomplete='username';usernameInput.placeholder='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå';usernameInput.required=!0;usernameInput.id='Login_Username';usernameInput.setAttribute('data-1p-ignore','false');usernameInput.setAttribute('data-lpignore','false');usernameP.appendChild(usernameInput);const usernameMessage=document.createElement('div');usernameMessage.id='username_message';usernameMessage.style.fontSize='14px';usernameMessage.style.marginTop='5px';usernameMessage.style.minHeight='20px';usernameP.appendChild(usernameMessage);loginForm.appendChild(usernameP);usernameInput.addEventListener('focus',function(){this.select()});let usernameCheckTimeout;usernameInput.addEventListener('input',function(){clearTimeout(usernameCheckTimeout);const username=this.value.trim();const messageDiv=document.getElementById('username_message');if(username.length===0){messageDiv.textContent='';this.style.borderColor='';return} if(username.length<3){messageDiv.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¯3æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„';messageDiv.style.color='#888';this.style.borderColor='';return} messageDiv.textContent='ç¢ºèªä¸­...';messageDiv.style.color='#888';this.style.borderColor='';usernameCheckTimeout=setTimeout(async()=>{try{const accountData=await getAccountData(username);if(accountData){messageDiv.textContent='âœ“ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ';messageDiv.style.color='#00aa00';this.style.borderColor='#00aa00'}else{messageDiv.textContent='âœ— ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯å­˜åœ¨ã—ã¾ã›ã‚“';messageDiv.style.color='#ff0000';this.style.borderColor='#ff0000'}}catch(error){messageDiv.textContent='ç¢ºèªã§ãã¾ã›ã‚“ã§ã—ãŸ';messageDiv.style.color='#ff6600';this.style.borderColor=''}},800)});const passwordP=document.createElement('p');const passwordInput=document.createElement('input');passwordInput.type='password';passwordInput.autocomplete='current-password';passwordInput.placeholder='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰';passwordInput.required=!0;passwordInput.id='Login_Password';passwordInput.setAttribute('data-1p-ignore','false');passwordInput.setAttribute('data-lpignore','false');passwordP.appendChild(passwordInput);loginForm.appendChild(passwordP);const loginSubmit=document.createElement('input');loginSubmit.type="submit";loginSubmit.id="login_submitbutton";loginSubmit.value="ãƒ­ã‚°ã‚¤ãƒ³";loginSubmit.setAttribute('data-1p-ignore','false');loginForm.appendChild(loginSubmit);const createAccountP=document.createElement('p');const createAccountLink=document.createElement('a');createAccountLink.href='https://matsuryo0619.github.io/scratchblog/accounts.html?type=make';createAccountLink.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ';createAccountP.appendChild(createAccountLink);loginForm.appendChild(createAccountP);document.body.appendChild(loginForm)}}}else{Make_accounts.style.display='none';login.style.display='none';accounts_parent.querySelector('p').textContent=localStorage.getItem('account');if(window.location.origin+window.location.pathname==='https://matsuryo0619.github.io/scratchblog/accounts.html'){document.title='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š - ã‚¹ã‚´ã‚¹ã‚¯!';async function getCurrentAccountData(username){try{const timestamp=new Date().getTime();const csvUrl=`${GOOGLE_SHEET_CSV_URL}&_t=${timestamp}`;const existingAccounts=await d3.csv(csvUrl);const possibleAccountNameColumns=['ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå','ãƒ¦ãƒ¼ã‚¶ãƒ¼å','Account Name','Username'];if(existingAccounts.length===0){return null} const availableColumns=Object.keys(existingAccounts[0]);const accountNameColumn=possibleAccountNameColumns.find(col=>availableColumns.includes(col))||availableColumns[1];const account=existingAccounts.find(row=>{const existingUsername=row[accountNameColumn];return existingUsername&&existingUsername.toString().trim().toLowerCase()===username.trim().toLowerCase()});if(!account){return null} return{username:account[accountNameColumn],hashedPassword:account.ãƒãƒƒã‚·ãƒ¥åŒ–ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰||account['Hashed Password'],salt:account.ã‚½ãƒ«ãƒˆ||account.Salt,createdDate:account.ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—||account.Timestamp}}catch(error){console.error('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:',error);return null}} async function verifyCurrentPassword(inputPassword,storedHash,salt){try{const combined=inputPassword+salt;const encoder=new TextEncoder();const dataToHash=encoder.encode(combined);const hashBuffer=await crypto.subtle.digest('SHA-256',dataToHash);const hashArray=Array.from(new Uint8Array(hashBuffer));const computedHash=hashArray.map(b=>b.toString(16).padStart(2,'0')).join('');const cleanStoredHash=storedHash.replace(/,\s*$/,'').trim();return computedHash===cleanStoredHash}catch(error){console.error('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼ã‚¨ãƒ©ãƒ¼:',error);return!1}} const settingsContainer=document.createElement('div');settingsContainer.id='account_settings_container';settingsContainer.style.maxWidth='600px';settingsContainer.style.margin='20px auto';settingsContainer.style.padding='20px';settingsContainer.style.backgroundColor='#f9f9f9';settingsContainer.style.borderRadius='8px';settingsContainer.style.boxShadow='0 2px 10px rgba(0,0,0,0.1)';const title=document.createElement('h2');title.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š';title.style.textAlign='center';title.style.marginBottom='30px';title.style.color='#333';settingsContainer.appendChild(title);const accountInfoSection=document.createElement('div');accountInfoSection.style.marginBottom='30px';accountInfoSection.style.padding='15px';accountInfoSection.style.backgroundColor='#fff';accountInfoSection.style.borderRadius='5px';accountInfoSection.style.border='1px solid #ddd';const accountInfoTitle=document.createElement('h3');accountInfoTitle.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±';accountInfoTitle.style.marginBottom='15px';accountInfoTitle.style.color='#555';accountInfoSection.appendChild(accountInfoTitle);const currentUsername=localStorage.getItem('account');const usernameInfo=document.createElement('p');usernameInfo.innerHTML=`<strong>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå:</strong> ${currentUsername}`;usernameInfo.style.marginBottom='10px';accountInfoSection.appendChild(usernameInfo);const accountStatus=document.createElement('p');accountStatus.innerHTML='<strong>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</strong> <span style="color: #00aa00;">ãƒ­ã‚°ã‚¤ãƒ³ä¸­</span>';accountStatus.style.marginBottom='10px';accountInfoSection.appendChild(accountStatus);const createdDateP=document.createElement('p');createdDateP.innerHTML='<strong>ä½œæˆæ—¥æ™‚:</strong> <span id="account_created_date">èª­ã¿è¾¼ã¿ä¸­...</span>';createdDateP.style.marginBottom='10px';accountInfoSection.appendChild(createdDateP);settingsContainer.appendChild(accountInfoSection);const passwordChangeSection=document.createElement('div');passwordChangeSection.style.marginBottom='30px';passwordChangeSection.style.padding='15px';passwordChangeSection.style.backgroundColor='#fff';passwordChangeSection.style.borderRadius='5px';passwordChangeSection.style.border='1px solid #ddd';const passwordChangeTitle=document.createElement('h3');passwordChangeTitle.textContent='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´';passwordChangeTitle.style.marginBottom='15px';passwordChangeTitle.style.color='#555';passwordChangeSection.appendChild(passwordChangeTitle);const passwordForm=document.createElement('form');passwordForm.id='password_change_form';const currentPasswordP=document.createElement('p');const currentPasswordLabel=document.createElement('label');currentPasswordLabel.textContent='ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:';currentPasswordLabel.style.display='block';currentPasswordLabel.style.marginBottom='5px';currentPasswordP.appendChild(currentPasswordLabel);const currentPasswordInput=document.createElement('input');currentPasswordInput.type='password';currentPasswordInput.id='current_password';currentPasswordInput.placeholder='ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›';currentPasswordInput.required=!0;currentPasswordInput.style.width='100%';currentPasswordInput.style.padding='8px';currentPasswordInput.style.border='1px solid #ccc';currentPasswordInput.style.borderRadius='4px';currentPasswordInput.style.boxSizing='border-box';currentPasswordP.appendChild(currentPasswordInput);passwordForm.appendChild(currentPasswordP);const newPasswordP=document.createElement('p');newPasswordP.style.position='relative';const newPasswordLabel=document.createElement('label');newPasswordLabel.textContent='æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:';newPasswordLabel.style.display='block';newPasswordLabel.style.marginBottom='5px';newPasswordP.appendChild(newPasswordLabel);const newPasswordInput=document.createElement('input');newPasswordInput.type='password';newPasswordInput.id='new_password';newPasswordInput.placeholder='æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆ6æ–‡å­—ä»¥ä¸Šï¼‰';newPasswordInput.required=!0;newPasswordInput.minLength=6;newPasswordInput.style.width='100%';newPasswordInput.style.padding='8px';newPasswordInput.style.paddingRight='40px';newPasswordInput.style.border='1px solid #ccc';newPasswordInput.style.borderRadius='4px';newPasswordInput.style.boxSizing='border-box';newPasswordP.appendChild(newPasswordInput);const toggleNewPassword=document.createElement('button');toggleNewPassword.type='button';toggleNewPassword.textContent='ğŸ‘';toggleNewPassword.style.position='absolute';toggleNewPassword.style.right='10px';toggleNewPassword.style.top='30px';toggleNewPassword.style.border='none';toggleNewPassword.style.background='transparent';toggleNewPassword.style.cursor='pointer';toggleNewPassword.style.fontSize='16px';toggleNewPassword.title='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¡¨ç¤º/éè¡¨ç¤º';newPasswordP.appendChild(toggleNewPassword);toggleNewPassword.addEventListener('click',function(){if(newPasswordInput.type==='password'){newPasswordInput.type='text';this.textContent='ğŸ™ˆ'}else{newPasswordInput.type='password';this.textContent='ğŸ‘'}});passwordForm.appendChild(newPasswordP);const confirmNewPasswordP=document.createElement('p');confirmNewPasswordP.style.position='relative';const confirmNewPasswordLabel=document.createElement('label');confirmNewPasswordLabel.textContent='æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª:';confirmNewPasswordLabel.style.display='block';confirmNewPasswordLabel.style.marginBottom='5px';confirmNewPasswordP.appendChild(confirmNewPasswordLabel);const confirmNewPasswordInput=document.createElement('input');confirmNewPasswordInput.type='password';confirmNewPasswordInput.id='confirm_new_password';confirmNewPasswordInput.placeholder='æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª';confirmNewPasswordInput.required=!0;confirmNewPasswordInput.minLength=6;confirmNewPasswordInput.style.width='100%';confirmNewPasswordInput.style.padding='8px';confirmNewPasswordInput.style.paddingRight='40px';confirmNewPasswordInput.style.border='1px solid #ccc';confirmNewPasswordInput.style.borderRadius='4px';confirmNewPasswordInput.style.boxSizing='border-box';confirmNewPasswordP.appendChild(confirmNewPasswordInput);const toggleConfirmNewPassword=document.createElement('button');toggleConfirmNewPassword.type='button';toggleConfirmNewPassword.textContent='ğŸ‘';toggleConfirmNewPassword.style.position='absolute';toggleConfirmNewPassword.style.right='10px';toggleConfirmNewPassword.style.top='30px';toggleConfirmNewPassword.style.border='none';toggleConfirmNewPassword.style.background='transparent';toggleConfirmNewPassword.style.cursor='pointer';toggleConfirmNewPassword.style.fontSize='16px';toggleConfirmNewPassword.title='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¡¨ç¤º/éè¡¨ç¤º';confirmNewPasswordP.appendChild(toggleConfirmNewPassword);toggleConfirmNewPassword.addEventListener('click',function(){if(confirmNewPasswordInput.type==='password'){confirmNewPasswordInput.type='text';this.textContent='ğŸ™ˆ'}else{confirmNewPasswordInput.type='password';this.textContent='ğŸ‘'}});const newPasswordMessage=document.createElement('div');newPasswordMessage.id='new_password_message';newPasswordMessage.style.fontSize='14px';newPasswordMessage.style.marginTop='5px';newPasswordMessage.style.minHeight='20px';confirmNewPasswordP.appendChild(newPasswordMessage);passwordForm.appendChild(confirmNewPasswordP);function checkNewPasswordMatch(){const newPassword=newPasswordInput.value;const confirmNewPassword=confirmNewPasswordInput.value;const messageDiv=document.getElementById('new_password_message');if(confirmNewPassword.length===0){messageDiv.textContent='';confirmNewPasswordInput.style.borderColor='#ccc';return!0} if(newPassword===confirmNewPassword){messageDiv.textContent='âœ“ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¦ã„ã¾ã™';messageDiv.style.color='#00aa00';confirmNewPasswordInput.style.borderColor='#00aa00';return!0}else{messageDiv.textContent='âœ— ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“';messageDiv.style.color='#ff0000';confirmNewPasswordInput.style.borderColor='#ff0000';return!1}} newPasswordInput.addEventListener('input',checkNewPasswordMatch);confirmNewPasswordInput.addEventListener('input',checkNewPasswordMatch);const changePasswordButton=document.createElement('input');changePasswordButton.type='submit';changePasswordButton.id='change_password_button';changePasswordButton.value='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´';changePasswordButton.style.backgroundColor='#007bff';changePasswordButton.style.color='white';changePasswordButton.style.padding='10px 20px';changePasswordButton.style.border='none';changePasswordButton.style.borderRadius='5px';changePasswordButton.style.cursor='pointer';changePasswordButton.style.fontSize='16px';changePasswordButton.style.marginTop='10px';passwordForm.appendChild(changePasswordButton);passwordForm.onsubmit=async function(event){event.preventDefault();const currentPassword=currentPasswordInput.value;const newPassword=newPasswordInput.value;const confirmNewPassword=confirmNewPasswordInput.value;if(!currentPassword||!newPassword||!confirmNewPassword){alert('ã™ã¹ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');return!1} if(newPassword!==confirmNewPassword){alert('æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“ï¼');return!1} if(newPassword.length<6){alert('æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯6æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');return!1} if(currentPassword===newPassword){alert('æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨ç•°ãªã‚‹ã‚‚ã®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');return!1} const submitButton=document.getElementById('change_password_button');submitButton.disabled=!0;submitButton.value='ç¢ºèªä¸­...';try{const accountData=await getCurrentAccountData(currentUsername);if(!accountData){alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');submitButton.disabled=!1;submitButton.value='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´';return!1} const isCurrentPasswordValid=await verifyCurrentPassword(currentPassword,accountData.hashedPassword,accountData.salt);if(!isCurrentPasswordValid){alert('ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™ã€‚');submitButton.disabled=!1;submitButton.value='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´';return!1} submitButton.value='å¤‰æ›´ä¸­...';const saltBytes=window.crypto.getRandomValues(new Uint8Array(16));const newSalt=Array.from(saltBytes).map(b=>b.toString(16).padStart(2,'0')).join('');const combined=newPassword+newSalt;const encoder=new TextEncoder();const dataToHash=encoder.encode(combined);const hashBuffer=await crypto.subtle.digest('SHA-256',dataToHash);const hashArray=Array.from(new Uint8Array(hashBuffer));const newHashedPassword=hashArray.map(b=>b.toString(16).padStart(2,'0')).join('');const updateForm=document.createElement('form');updateForm.action='https://docs.google.com/forms/d/e/1FAIpQLSczgHouSE1zLsfoT7M7O9p3iReQt1p9t3tlXIoxBMqShvrz1g/formResponse';updateForm.method='post';updateForm.target='password_update_iframe';updateForm.style.display='none';const usernameField=document.createElement('input');usernameField.type='hidden';usernameField.name='entry.159289474';usernameField.value=currentUsername;updateForm.appendChild(usernameField);const saltField=document.createElement('input');saltField.type='hidden';saltField.name='entry.155315392';saltField.value=newSalt;updateForm.appendChild(saltField);const passwordField=document.createElement('input');passwordField.type='hidden';passwordField.name='entry.1949907076';passwordField.value=newHashedPassword;updateForm.appendChild(passwordField);document.body.appendChild(updateForm);const updateIframe=document.createElement('iframe');updateIframe.name='password_update_iframe';updateIframe.style.display='none';document.body.appendChild(updateIframe);updateIframe.onload=function(){alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£å¸¸ã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸï¼');submitButton.disabled=!1;submitButton.value='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´';passwordForm.reset();document.body.removeChild(updateForm);document.body.removeChild(updateIframe)};updateForm.submit()}catch(error){console.error('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ã‚¨ãƒ©ãƒ¼:',error);alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚');submitButton.disabled=!1;submitButton.value='ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´'}};passwordChangeSection.appendChild(passwordForm);settingsContainer.appendChild(passwordChangeSection);const logoutSection=document.createElement('div');logoutSection.style.marginBottom='30px';logoutSection.style.padding='15px';logoutSection.style.backgroundColor='#fff';logoutSection.style.borderRadius='5px';logoutSection.style.border='1px solid #ddd';const logoutTitle=document.createElement('h3');logoutTitle.textContent='ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ';logoutTitle.style.marginBottom='15px';logoutTitle.style.color='#555';logoutSection.appendChild(logoutTitle);const logoutDescription=document.createElement('p');logoutDescription.textContent='ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã€‚å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã«ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚';logoutDescription.style.marginBottom='15px';logoutDescription.style.color='#666';logoutSection.appendChild(logoutDescription);const logoutButton=document.createElement('button');logoutButton.textContent='ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ';logoutButton.style.backgroundColor='#dc3545';logoutButton.style.color='white';logoutButton.style.padding='10px 20px';logoutButton.style.border='none';logoutButton.style.borderRadius='5px';logoutButton.style.cursor='pointer';logoutButton.style.fontSize='16px';logoutButton.addEventListener('click',function(){if(confirm('æœ¬å½“ã«ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ')){localStorage.removeItem('account');if(typeof secureAuth!=='undefined'){secureAuth.clearAuthData()} window.location.replace('https://matsuryo0619.github.io/scratchblog/Home.html')}});logoutSection.appendChild(logoutButton);settingsContainer.appendChild(logoutSection);const deleteSection=document.createElement('div');deleteSection.style.marginBottom='30px';deleteSection.style.padding='15px';deleteSection.style.backgroundColor='#fff';deleteSection.style.borderRadius='5px';deleteSection.style.border='2px solid #dc3545';const deleteTitle=document.createElement('h3');deleteTitle.textContent='å±é™ºãªæ“ä½œ';deleteTitle.style.marginBottom='15px';deleteTitle.style.color='#dc3545';deleteSection.appendChild(deleteTitle);const deleteDescription=document.createElement('p');deleteDescription.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤ã™ã‚‹ã¨ã€ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ãŒæ°¸ä¹…ã«å¤±ã‚ã‚Œã¾ã™ã€‚ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚';deleteDescription.style.marginBottom='15px';deleteDescription.style.color='#666';deleteSection.appendChild(deleteDescription);const deleteButton=document.createElement('button');deleteButton.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤';deleteButton.style.backgroundColor='#dc3545';deleteButton.style.color='white';deleteButton.style.padding='10px 20px';deleteButton.style.border='none';deleteButton.style.borderRadius='5px';deleteButton.style.cursor='pointer';deleteButton.style.fontSize='16px';deleteButton.addEventListener('click',function(){const confirmation1=confirm('æœ¬å½“ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚');if(confirmation1){const confirmation2=confirm('æœ€çµ‚ç¢ºèªï¼šã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤ã™ã‚‹ã¨ã€ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ãŒæ°¸ä¹…ã«å¤±ã‚ã‚Œã¾ã™ã€‚æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');if(confirmation2){const passwordPrompt=prompt('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼š');if(passwordPrompt){deleteAccount(passwordPrompt)}}}});async function deleteAccount(password){try{deleteButton.disabled=!0;deleteButton.textContent='å‰Šé™¤ä¸­...';const accountData=await getCurrentAccountData(currentUsername);if(!accountData){alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');deleteButton.disabled=!1;deleteButton.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤';return} const isPasswordValid=await verifyCurrentPassword(password,accountData.hashedPassword,accountData.salt);if(!isPasswordValid){alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™ã€‚');deleteButton.disabled=!1;deleteButton.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤';return} alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ã®å®Ÿè£…ã«ã¯è¿½åŠ ã®è¨­å®šãŒå¿…è¦ã§ã™ã€‚ç®¡ç†è€…ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚');deleteButton.disabled=!1;deleteButton.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤'}catch(error){console.error('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ã‚¨ãƒ©ãƒ¼:',error);alert('ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');deleteButton.disabled=!1;deleteButton.textContent='ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤'}} deleteSection.appendChild(deleteButton);settingsContainer.appendChild(deleteSection);document.body.appendChild(settingsContainer);getCurrentAccountData(currentUsername).then(accountData=>{const createdDateSpan=document.getElementById('account_created_date');if(accountData&&accountData.createdDate){try{const date=new Date(accountData.createdDate);createdDateSpan.textContent=date.toLocaleString('ja-JP')}catch(error){createdDateSpan.textContent='ä¸æ˜'}}else{createdDateSpan.textContent='ä¸æ˜'}}).catch(error=>{console.error('ä½œæˆæ—¥æ™‚å–å¾—ã‚¨ãƒ©ãƒ¼:',error);const createdDateSpan=document.getElementById('account_created_date');createdDateSpan.textContent='å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ'})}}})
